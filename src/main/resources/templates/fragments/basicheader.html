<!-- templates/fragments/basicheader.html -->
<!-- index 페이지 처럼 네비게이터 메뉴 , 로그인 회원가입 이 있는 일반적인 페이지에 쓰이는 헤더 -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<body>

<!-- basic header fragment  -->
<header th:fragment="basicheader-fragment (activeTab)" class="bg-white shadow-sm w-full">
  <div class="max-w-6xl mx-auto flex justify-between items-center px-6 py-4">
    <!-- 좌측 로고 -->
    <a href="/"><h1 class="text-2xl font-bold text-emerald-600">Glimsha</h1></a>

    <!-- 중앙 네비게이션 -->
    <nav class="hidden md:flex items-center space-x-6 text-gray-700 font-medium" th:if="${activeTab}!='None'">

      <!-- 각 메뉴에 activeTab 비교 -->
      <a href="/news"
         th:classappend="${activeTab} == 'news' ? 'text-emerald-600 border-b-2 border-emerald-600 pb-1 font-semibold' : 'hover:text-emerald-600 transition'">
        주요뉴스
      </a>

      <a href="/company"
         th:classappend="${activeTab} == 'company' ? 'text-emerald-600 border-b-2 border-emerald-600 pb-1 font-semibold' : 'hover:text-emerald-600 transition'">
        기업 비교
      </a>

      <a href="/ranking"
         th:classappend="${activeTab} == 'ranking' ? 'text-emerald-600 border-b-2 border-emerald-600 pb-1 font-semibold' : 'hover:text-emerald-600 transition'">
        랭킹
      </a>

    </nav>
    <!-- 우측 메뉴 -->
    <div class="flex items-center space-x-4">

      <!-- 로그인 상태: 회원 이름 + 로그아웃 -->
      <div class="flex items-center space-x-3" th:if="${name}">
                    <span class="text-gray-700 font-medium">
                        환영합니다, <a href="/mypage" class="text-emerald-600 font-semibold" th:text="${name}"></a> 님 👋
                    </span>

        <form action="/logout" method="post">
          <button type="submit"
                  class="px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-white font-semibold rounded-lg transition">
            로그아웃
          </button>
        </form>
      </div>

      <!-- 비로그인 상태: 로그인 / 회원가입 -->
      <div class="flex items-center space-x-3" th:unless="${name}">
        <form action="/login" method="get">
          <button type="submit"
                  class="px-4 py-2 text-gray-700 font-medium hover:text-emerald-600 transition">
            로그인
          </button>
        </form>

        <form action="/signup" method="get">
          <button type="submit"
                  class="px-4 py-2 text-gray-700 font-medium hover:text-emerald-600 transition">
            회원가입
          </button>
        </form>
      </div>

    </div>
  </div>
</header>
</body>
</html>